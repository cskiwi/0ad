<?xml version="1.0" encoding="utf-8"?>

<!--
==========================================
- POST-GAME SUMMARY SCREEN -
==========================================
-->

<objects>
        <script file="gui/common/functions_civinfo.js"/>
        <script file="gui/session/music.js"/>
        <script file="gui/options/options.js"/>

        <!-- Add a translucent black background to fade out the menu page -->
        <object type="image" z="0" style="TranslucentPanel"/>
        
        <!-- Settings Window -->
        <object name="options" type="image" style="StoneDialog" size="50%-190 50%-120 50%+300 50%+200">

                <object style="TitleText" type="text" size="50%-128 0%-16 50%+128 16">
                        Game Options
                </object>

                <!-- size="LeftX LeftY RightX RightY" -->
                <!-- options container -->
                <object size="30 30 100%-30 100%-65">

                        <!-- Settings / Graphics -->
                        <object size="0 5 50%-10 35" type="text" style="RightLabelText" ghost="true">Graphic detail</object>
                        <object size="50% 5 100%-50 35" name="Graphics" type="dropdown" style="StoneDropDown"  hidden="false">
                        </object>


                        <!-- Settings / Windowed -->
                        <object size="0 45 50%-10 65" type="text" style="RightLabelText" ghost="true">Windowed</object>
                        <object  size="50% 47 100%-30 67" name="WindowedCheckbox" type="checkbox" style="StoneCrossBox" checked="true">
                                <action on="Load">g_ConfigDB.user["windowed"] === "true" ? this.checked = true : this.checked = false;</action>
                                <action on="Press">g_ConfigDB.user["windowed"] = String(this.checked);</action>
                        </object>

                        <!-- Settings / Shadows -->
                        <object size="0 75 50%-10 95" type="text" style="RightLabelText" ghost="true">Enable Shadow</object>
                        <object size="50% 77 100%-30 97" name="shadowsCheckbox" type="checkbox" style="StoneCrossBox" checked="true">
                                <action on="Load">g_ConfigDB.user["shadows"] === "true" ? this.checked = true : this.checked = false;</action>
                                <action on="Press">g_ConfigDB.user["shadows"] = String(this.checked);</action>
                        </object>

                        <!-- Settings / Shadow PCF -->
                        <object size="0 105 50%-10 125" type="text" style="RightLabelText" ghost="true">Enable Shadow Filtering</object>
                        <object size="50% 107 100%-30 127" name="shadowPCFCheckbox"  type="checkbox" style="StoneCrossBox" checked="true">
                                <action on="Load">g_ConfigDB.user["shadowpcf"] === "true" ? this.checked = true : this.checked = false;</action>
                                <action on="Press">g_ConfigDB.user["shadowpcf"] = String(this.checked);</action>
                        </object>

                        <!-- Settings / Water Reflection -->
                        <object size="0 135 50%-10 155" type="text" style="RightLabelText" ghost="true">Enable Water Reflections</object>
                        <object size="50% 137 100%-30 157" name="waterreflection"  type="checkbox" style="StoneCrossBox" checked="true">
                                <action on="Load">g_ConfigDB.user["waterreflection"] === "true" ? this.checked = true : this.checked = false;</action>
                                <action on="Press">g_ConfigDB.user["waterreflection"] = String(this.checked);</action>
                        </object>

                        <!-- Settings / MP name -->
                        <object size="0 165 50%-10 185" type="text" style="RightLabelText" ghost="true">Player name</object>
                        <object size="50% 167 100%-30 187" name="playername" type="input" style="StoneCrossBox" caption="playername">
                                <action on="Load">this.caption = g_ConfigDB.user["playername"]</action>
                                <action on="Press">g_ConfigDB.user["playername"] = String(this.caption);</action>
                        </object>

                        

                </object>
                
                <object type="button" style="StoneButton" size="50% 100%-64 50%+120 100%-32">
                        Cancel
                        <action on="Press">Engine.PopGuiPage();</action>
                </object>
                <object type="button" style="StoneButton" size="50%-128 100%-64 50%-8 100%-32">
                        Save
                        <action on="Press">
                                g_ConfigDB.user.writeFile("config/user.cfg");
                                Engine.PopGuiPage();
                        </action>
                </object>

        </object>
</objects>
